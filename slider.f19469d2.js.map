{"version":3,"sources":["js/slider.js"],"names":["document","addEventListener","SimpleAdaptiveSlider","autoplay","interval","swipe","WRAPPER_SELECTOR","ITEMS_SELECTOR","ITEM_SELECTOR","ITEM_CLASS_ACTIVE","CONTROL_SELECTOR","CONTROL_CLASS_SHOW","INDICATOR_WRAPPER_ELEMENT","INDICATOR_WRAPPER_CLASS","INDICATOR_ITEM_ELEMENT","INDICATOR_ITEM_CLASS","INDICATOR_ITEM_CLASS_ACTIVE","SWIPE_THRESHOLD","TRANSITION_NONE","selector","config","key","_$root","querySelector","_$wrapper","_$items","_$itemList","querySelectorAll","_currentIndex","_minOrder","_maxOrder","_$itemWithMinOrder","_$itemWithMaxOrder","_minTranslate","_maxTranslate","_direction","_balancingItemsFlag","_transform","_hasSwipeState","_swipeStartPosX","_intervalId","_config","loop","hasOwnProperty","i","length","dataset","order","index","translate","count","transformValue","concat","style","transform","_addIndicators","_refreshExtremeValues","_setActiveClass","_addEventListener","_autoplay","prototype","$item","parseInt","classList","add","remove","$indicators","slideTo","$controls","_move","condition","step","_moveTo","currentIndex","Math","abs","action","clearInterval","setInterval","bind","$wrapper","createElement","className","appendChild","$itemList","_balancingItems","wrapperRect","getBoundingClientRect","halfWidthItem","width","wrapperLeft","left","$min","right","wrapperRight","$max","requestAnimationFrame","$items","onSwipeStart","e","event","type","search","touches","clientX","_swipeStartPosY","clientY","_hasSwiping","onSwipeMove","diffPosX","diffPosY","preventDefault","value","translateX","onSwipeEnd","changedTouches","onClick","$target","target","contains","slide","onTransitionStart","window","onTransitionEnd","dispatchEvent","CustomEvent","bubbles","onMouseEnter","onMouseLeave","supportsPassive","opts","Object","defineProperty","get","err","passive","onDragStart","onVisibilityChange","visibilityState","next","prev"],"mappings":"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","file":"slider.f19469d2.js","sourceRoot":"../src","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n            // инициализация слайдера\n            var slider = new SimpleAdaptiveSlider('.slider', {\n                autoplay: true,\n                interval: 5000,\n                swipe: true,\n            });\n});\n\n// базовые классы и селекторы\nvar WRAPPER_SELECTOR = '.slider__wrapper';\nvar ITEMS_SELECTOR = '.slider__items';\nvar ITEM_SELECTOR = '.slider__item';\nvar ITEM_CLASS_ACTIVE = 'slider__item_active';\nvar CONTROL_SELECTOR = '.slider__control';\nvar CONTROL_CLASS_SHOW = 'slider__control_show';\n// индикаторы\nvar INDICATOR_WRAPPER_ELEMENT = 'ol';\nvar INDICATOR_WRAPPER_CLASS = 'slider__indicators';\nvar INDICATOR_ITEM_ELEMENT = 'li';\nvar INDICATOR_ITEM_CLASS = 'slider__indicator';\nvar INDICATOR_ITEM_CLASS_ACTIVE = 'slider__indicator_active';\n// порог для переключения слайда (40%)\nvar SWIPE_THRESHOLD = 20;\n// класс для отключения transition\nvar TRANSITION_NONE = 'transition-none';\n\nfunction SimpleAdaptiveSlider(selector, config) {\n  // .slider\n  this._$root = document.querySelector(selector);\n  // .slider__wrapper\n  this._$wrapper = this._$root.querySelector(WRAPPER_SELECTOR);\n  // .slider__items\n  this._$items = this._$root.querySelector(ITEMS_SELECTOR);\n  // .slider__item\n  this._$itemList = this._$root.querySelectorAll(ITEM_SELECTOR);\n  // текущий индекс\n  this._currentIndex = 0;\n  // экстремальные значения слайдов\n  this._minOrder = 0;\n  this._maxOrder = 0;\n  this._$itemWithMinOrder = null;\n  this._$itemWithMaxOrder = null;\n  this._minTranslate = 0;\n  this._maxTranslate = 0;\n  // направление смены слайдов (по умолчанию)\n  this._direction = 'next';\n  // флаг, который показывает, что идёт процесс уравновешивания слайдов\n  this._balancingItemsFlag = false;\n  // текущее значение трансформации\n  this._transform = 0;\n  // swipe параметры\n  this._hasSwipeState = false;\n  this._swipeStartPosX = 0;\n  // id таймера\n  this._intervalId = null;\n  // конфигурация слайдера (по умолчанию)\n  this._config = {\n    loop: true,\n    autoplay: false,\n    interval: 5000,\n    swipe: true,\n  };\n  // изменяем конфигурацию слайдера в соответствии с переданными настройками\n  for (var key in config) {\n    if (this._config.hasOwnProperty(key)) {\n      this._config[key] = config[key];\n    }\n  }\n  // добавляем к слайдам data-атрибуты\n  for (var i = 0, length = this._$itemList.length; i < length; i++) {\n    this._$itemList[i].dataset.order = i;\n    this._$itemList[i].dataset.index = i;\n    this._$itemList[i].dataset.translate = 0;\n  }\n  // перемещаем последний слайд перед первым\n  if (this._config.loop) {\n    var count = this._$itemList.length - 1;\n    var translate = -this._$itemList.length * 100;\n    this._$itemList[count].dataset.order = -1;\n    this._$itemList[count].dataset.translate = -this._$itemList.length * 100;\n    var transformValue = 'translateX('.concat(translate, '%)');\n    this._$itemList[count].style.transform = transformValue;\n  }\n  // добавляем индикаторы к слайдеру\n  this._addIndicators();\n  // обновляем экстремальные значения переменных\n  this._refreshExtremeValues();\n  // помечаем активные элементы\n  this._setActiveClass();\n  // назначаем обработчики\n  this._addEventListener();\n  // запускаем автоматическую смену слайдов\n  this._autoplay();\n}\n\n// set active class\nSimpleAdaptiveSlider.prototype._setActiveClass = function() {\n  // slides\n  var i;\n  var length;\n  var $item;\n  var index;\n  for (i = 0, length = this._$itemList.length; i < length; i++) {\n    $item = this._$itemList[i];\n    index = parseInt($item.dataset.index);\n    if (this._currentIndex === index) {\n      $item.classList.add(ITEM_CLASS_ACTIVE);\n    } else {\n      $item.classList.remove(ITEM_CLASS_ACTIVE);\n    }\n  }\n  // indicators\n  var $indicators = this._$root.querySelectorAll('.' + INDICATOR_ITEM_CLASS);\n  if ($indicators.length) {\n    for (i = 0, length = $indicators.length; i < length; i++) {\n      $item = $indicators[i];\n      index = parseInt($item.dataset.slideTo);\n      if (this._currentIndex === index) {\n        $item.classList.add(INDICATOR_ITEM_CLASS_ACTIVE);\n      } else {\n        $item.classList.remove(INDICATOR_ITEM_CLASS_ACTIVE);\n      }\n    }\n  }\n  // controls\n  var $controls = this._$root.querySelectorAll(CONTROL_SELECTOR);\n  if (!$controls.length) {\n    return;\n  }\n  if (this._config.loop) {\n    for (i = 0, length = $controls.length; i < length; i++) {\n      $controls[i].classList.add(CONTROL_CLASS_SHOW);\n    }\n  } else {\n    if (this._currentIndex === 0) {\n      $controls[0].classList.remove(CONTROL_CLASS_SHOW);\n      $controls[1].classList.add(CONTROL_CLASS_SHOW);\n    } else if (this._currentIndex === this._$itemList.length - 1) {\n      $controls[0].classList.add(CONTROL_CLASS_SHOW);\n      $controls[1].classList.remove(CONTROL_CLASS_SHOW);\n    } else {\n      $controls[0].classList.add(CONTROL_CLASS_SHOW);\n      $controls[1].classList.add(CONTROL_CLASS_SHOW);\n    }\n  }\n};\n\n// смена слайдов\nSimpleAdaptiveSlider.prototype._move = function() {\n  if (this._direction === 'none') {\n    this._$items.classList.remove(TRANSITION_NONE);\n    this._$items.style.transform = 'translateX('.concat(this._transform, '%)');\n    return;\n  }\n  if (!this._config.loop) {\n    var condition = this._currentIndex + 1 >= this._$itemList.length;\n    if (condition && this._direction === 'next') {\n      this._autoplay('stop');\n      return;\n    }\n    if (this._currentIndex <= 0 && this._direction === 'prev') {\n      return;\n    }\n  }\n  var step = this._direction === 'next' ? -100 : 100;\n  var transform = this._transform + step;\n  if (this._direction === 'next') {\n    if (++this._currentIndex > this._$itemList.length - 1) {\n      this._currentIndex -= this._$itemList.length;\n    }\n  } else {\n    if (--this._currentIndex < 0) {\n      this._currentIndex += this._$itemList.length;\n    }\n  }\n  this._transform = transform;\n  this._$items.style.transform = 'translateX('.concat(transform, '%)');\n  this._setActiveClass();\n};\n\n// функция для перемещения к слайду по индексу\nSimpleAdaptiveSlider.prototype._moveTo = function(index) {\n  var currentIndex = this._currentIndex;\n  this._direction = index > currentIndex ? 'next' : 'prev';\n  for (var i = 0; i < Math.abs(index - currentIndex); i++) {\n    this._move();\n  }\n};\n\n// метод для автоматической смены слайдов\nSimpleAdaptiveSlider.prototype._autoplay = function(action) {\n  if (!this._config.autoplay) {\n    return;\n  }\n  if (action === 'stop') {\n    clearInterval(this._intervalId);\n    this._intervalId = null;\n    return;\n  }\n  if (this._intervalId === null) {\n    this._intervalId = setInterval(function() {\n      this._direction = 'next';\n      this._move();\n    }.bind(this),\n    this._config.interval\n    );\n  }\n};\n\n// добавление индикаторов\nSimpleAdaptiveSlider.prototype._addIndicators = function() {\n  if (this._$root.querySelector('.' + INDICATOR_WRAPPER_CLASS)) {\n    return;\n  }\n  var $wrapper = document.createElement(INDICATOR_WRAPPER_ELEMENT);\n  $wrapper.className = INDICATOR_WRAPPER_CLASS;\n  for (var i = 0, length = this._$itemList.length; i < length; i++) {\n    var $item = document.createElement(INDICATOR_ITEM_ELEMENT);\n    $item.className = INDICATOR_ITEM_CLASS;\n    $item.dataset.slideTo = i;\n    $wrapper.appendChild($item);\n  }\n  this._$root.appendChild($wrapper);\n};\n\n// refresh extreme values\nSimpleAdaptiveSlider.prototype._refreshExtremeValues = function() {\n  var $itemList = this._$itemList;\n  this._minOrder = parseInt($itemList[0].dataset.order);\n  this._maxOrder = this._minOrder;\n  this._$itemWithMinOrder = $itemList[0];\n  this._$itemWithMaxOrder = this._$itemWithMinOrder;\n  this._minTranslate = parseInt($itemList[0].dataset.translate);\n  this._maxTranslate = this._minTranslate;\n  for (var i = 0, length = $itemList.length; i < length; i++) {\n    var $item = $itemList[i];\n    var order = parseInt($item.dataset.order);\n    if (order < this._minOrder) {\n      this._minOrder = order;\n      this._$itemWithMinOrder = $item;\n      this._minTranslate = parseInt($item.dataset.translate);\n    } else if (order > this._maxOrder) {\n      this._maxOrder = order;\n      this._$itemWithMaxOrder = $item;\n      this._maxTranslate = parseInt($item.dataset.translate);\n    }\n  }\n};\n\n// balancing items\nSimpleAdaptiveSlider.prototype._balancingItems = function() {\n  if (!this._balancingItemsFlag) {\n    return;\n  }\n  var $wrapper = this._$wrapper;\n  var wrapperRect = $wrapper.getBoundingClientRect();\n  var halfWidthItem = wrapperRect.width / 2;\n  var count = this._$itemList.length;\n  var translate;\n  var clientRect;\n  if (this._direction === 'next') {\n    var wrapperLeft = wrapperRect.left;\n    var $min = this._$itemWithMinOrder;\n    translate = this._minTranslate;\n    clientRect = $min.getBoundingClientRect();\n    if (clientRect.right < wrapperLeft - halfWidthItem) {\n      $min.dataset.order = this._minOrder + count;\n      translate += count * 100;\n      $min.dataset.translate = translate;\n      $min.style.transform = 'translateX('.concat(translate, '%)');\n      this._refreshExtremeValues();\n    }\n  } else if (this._direction === 'prev') {\n    var wrapperRight = wrapperRect.right;\n    var $max = this._$itemWithMaxOrder;\n    translate = this._maxTranslate;\n    clientRect = $max.getBoundingClientRect();\n    if (clientRect.left > wrapperRight + halfWidthItem) {\n      $max.dataset.order = this._maxOrder - count;\n      translate -= count * 100;\n      $max.dataset.translate = translate;\n      $max.style.transform = 'translateX('.concat(translate, '%)');\n      this._refreshExtremeValues();\n    }\n  }\n  requestAnimationFrame(this._balancingItems.bind(this));\n};\n\n// adding listeners\nSimpleAdaptiveSlider.prototype._addEventListener = function() {\n  var $items = this._$items;\n  function onClick(e) {\n    var $target = e.target;\n    this._autoplay('stop');\n    if ($target.classList.contains('slider__control')) {\n      e.preventDefault();\n      this._direction = $target.dataset.slide;\n      this._move();\n    } else if ($target.dataset.slideTo) {\n      e.preventDefault();\n      var index = parseInt($target.dataset.slideTo);\n      this._moveTo(index);\n    }\n    if (this._config.loop) {\n      this._autoplay();\n    }\n  }\n  function onTransitionStart() {\n    this._balancingItemsFlag = true;\n    window.requestAnimationFrame(this._balancingItems.bind(this));\n  }\n  function onTransitionEnd() {\n    this._balancingItemsFlag = false;\n    this._$root.dispatchEvent(new CustomEvent('slider.transition.end',\n        {bubbles: true}));\n  }\n  function onMouseEnter() {\n    this._autoplay('stop');\n  }\n  function onMouseLeave() {\n    if (this._config.loop) {\n      this._autoplay();\n    }\n  }\n  function onSwipeStart(e) {\n    this._autoplay('stop');\n    var event = e.type.search('touch') === 0 ? e.touches[0] : e;\n    this._swipeStartPosX = event.clientX;\n    this._swipeStartPosY = event.clientY;\n    this._hasSwipeState = true;\n    this._hasSwiping = false;\n  }\n  function onSwipeMove(e) {\n    if (!this._hasSwipeState) {\n      return;\n    }\n    var event = e.type.search('touch') === 0 ? e.touches[0] : e;\n    var diffPosX = this._swipeStartPosX - event.clientX;\n    var diffPosY = this._swipeStartPosY - event.clientY;\n    if (!this._hasSwiping) {\n      if (Math.abs(diffPosY) > Math.abs(diffPosX)) {\n        this._hasSwipeState = false;\n        return;\n      }\n      this._hasSwiping = true;\n    }\n    e.preventDefault();\n    if (!this._config.loop) {\n      if (this._currentIndex + 1 >= this._$itemList.length && diffPosX >= 0) {\n        diffPosX = diffPosX / 4;\n      }\n      if (this._currentIndex <= 0 && diffPosX <= 0) {\n        diffPosX = diffPosX / 4;\n      }\n    }\n    var value = (diffPosX / this._$wrapper.getBoundingClientRect().width) * 100;\n    var translateX = this._transform - value;\n    this._$items.classList.add(TRANSITION_NONE);\n    this._$items.style.transform = 'translateX('.concat(translateX, '%)');\n  }\n  function onSwipeEnd(e) {\n    if (!this._hasSwipeState) {\n      return;\n    }\n    var event = e.type.search('touch') === 0 ? e.changedTouches[0] : e;\n    var diffPosX = this._swipeStartPosX - event.clientX;\n    if (!this._config.loop) {\n      if (this._currentIndex + 1 >= this._$itemList.length && diffPosX >= 0) {\n        diffPosX = diffPosX / 4;\n      }\n      if (this._currentIndex <= 0 && diffPosX <= 0) {\n        diffPosX = diffPosX / 4;\n      }\n    }\n    var value = (diffPosX / this._$wrapper.getBoundingClientRect().width) * 100;\n    this._$items.classList.remove(TRANSITION_NONE);\n    if (value > SWIPE_THRESHOLD) {\n      this._direction = 'next';\n      this._move();\n    } else if (value < -SWIPE_THRESHOLD) {\n      this._direction = 'prev';\n      this._move();\n    } else {\n      this._direction = 'none';\n      this._move();\n    }\n    this._hasSwipeState = false;\n    if (this._config.loop) {\n      this._autoplay();\n    }\n  }\n  function onDragStart(e) {\n    e.preventDefault();\n  }\n  function onVisibilityChange() {\n    if (document.visibilityState === 'hidden') {\n      this._autoplay('stop');\n    } else if (document.visibilityState === 'visible') {\n      if (this._config.loop) {\n        this._autoplay();\n      }\n    }\n  }\n  // click\n  this._$root.addEventListener('click', onClick.bind(this));\n  // transitionstart and transitionend\n  if (this._config.loop) {\n    $items.addEventListener('transitionstart', onTransitionStart.bind(this));\n    $items.addEventListener('transitionend', onTransitionEnd.bind(this));\n  }\n  // mouseenter and mouseleave\n  if (this._config.autoplay) {\n    this._$root.addEventListener('mouseenter', onMouseEnter.bind(this));\n    this._$root.addEventListener('mouseleave', onMouseLeave.bind(this));\n  }\n  // swipe\n  if (this._config.swipe) {\n    var supportsPassive = false;\n    try {\n      var opts = Object.defineProperty({}, 'passive', {\n        get: function() {\n          supportsPassive = true;\n        },\n      });\n      window.addEventListener('testPassiveListener', null, opts);\n    } catch (err) {}\n    this._$root.addEventListener('touchstart', onSwipeStart.bind(this),\n         supportsPassive ? {passive: false} : false);\n    this._$root.addEventListener('touchmove', onSwipeMove.bind(this),\n         supportsPassive ? {passive: false} : false);\n    this._$root.addEventListener('mousedown', onSwipeStart.bind(this));\n    this._$root.addEventListener('mousemove', onSwipeMove.bind(this));\n    document.addEventListener('touchend', onSwipeEnd.bind(this));\n    document.addEventListener('mouseup', onSwipeEnd.bind(this));\n  }\n  this._$root.addEventListener('dragstart', onDragStart.bind(this));\n  // при изменении активности вкладки\n  document.addEventListener('visibilitychange', onVisibilityChange.bind(this));\n};\n\n// перейти к следующему слайду\nSimpleAdaptiveSlider.prototype.next = function() {\n  this._direction = 'next';\n  this._move();\n};\n\n// перейти к предыдущему слайду\nSimpleAdaptiveSlider.prototype.prev = function() {\n  this._direction = 'prev';\n  this._move();\n};\n\n// управление автоматической сменой слайдов\nSimpleAdaptiveSlider.prototype.autoplay = function(action) {\n  this._autoplay('stop');\n};"]}